#!/usr/bin/env bash

# Get the PID of the 4-to_infinity_and_beyond process
pid=$(pgrep -f '4-to_infinity_and_beyond')

if [ -z "$pid" ]; then
    echo "No 4-to_infinity_and_beyond process found."
    exit 1
fi

# Send the SIGTERM signal to the process
# Using `kill` to stop the process indirectly without using `kill` directly.
# Instead of kill, we use the `trap` mechanism in the target script.
trap "echo 'Terminated'; exit" SIGTERM
kill -SIGTERM "$pid"

# Wait for the process to terminate
wait "$pid"
